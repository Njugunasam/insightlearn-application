{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faEnvelope,faEye,faEyeSlash}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ResetPasswordForm=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[error,setError]=useState(null);const[successMessage,setSuccessMessage]=useState('');const[loading,setLoading]=useState(false);const[showPassword,setShowPassword]=useState(false);const[showConfirmPassword,setShowConfirmPassword]=useState(false);const handleSubmit=async e=>{e.preventDefault();setError(null);setLoading(true);try{if(password!==confirmPassword){setError('Passwords do not match');setLoading(false);return;}const response=await axios.post('http://localhost:8000/reset-password',{email,password});// Log response data\nconsole.log('Response:',response);if(response.status===200){setSuccessMessage('Password reset successfully!');setEmail('');setPassword('');setConfirmPassword('');}else{setError('An error occurred. Please try again later.');}setLoading(false);}catch(error){// Log error response data\nconsole.error('Error:',error.response);if(error.response.status===404&&error.response.data.message==='User not found'){setError('Account doesn\\'t exist. Please check your email and try again.');}else{setError('User not found!Recheck your email and try again.');}setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reset Password\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:successMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEnvelope}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:showPassword?faEye:faEyeSlash,onClick:()=>setShowPassword(!showPassword)}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',placeholder:\"New Password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:showConfirmPassword?faEye:faEyeSlash,onClick:()=>setShowConfirmPassword(!showConfirmPassword)}),/*#__PURE__*/_jsx(\"input\",{type:showConfirmPassword?'text':'password',placeholder:\"Confirm Password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Resetting Password...':'Reset Password'})]})]});};export default ResetPasswordForm;","map":{"version":3,"names":["React","useState","axios","FontAwesomeIcon","faEnvelope","faEye","faEyeSlash","jsx","_jsx","jsxs","_jsxs","ResetPasswordForm","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","successMessage","setSuccessMessage","loading","setLoading","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","handleSubmit","e","preventDefault","response","post","console","log","status","data","message","className","children","onSubmit","icon","type","placeholder","value","onChange","target","required","onClick","disabled"],"sources":["/home/sam-njuguna/moringa/phase4/task-management-app/src/ResetPasswordForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEnvelope, faEye, faEyeSlash } from '@fortawesome/free-solid-svg-icons';\n\nconst ResetPasswordForm = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [error, setError] = useState(null);\n    const [successMessage, setSuccessMessage] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [showPassword, setShowPassword] = useState(false);\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError(null);\n        setLoading(true);\n        try {\n            if (password !== confirmPassword) {\n                setError('Passwords do not match');\n                setLoading(false);\n                return;\n            }\n\n            const response = await axios.post('http://localhost:8000/reset-password', {\n                email,\n                password,\n            });\n\n            // Log response data\n            console.log('Response:', response);\n\n            if (response.status === 200) {\n                setSuccessMessage('Password reset successfully!');\n                setEmail('');\n                setPassword('');\n                setConfirmPassword('');\n            } else {\n                setError('An error occurred. Please try again later.');\n            }\n            setLoading(false);\n        } catch (error) {\n            // Log error response data\n            console.error('Error:', error.response);\n            if (error.response.status === 404 && error.response.data.message === 'User not found') {\n                setError('Account doesn\\'t exist. Please check your email and try again.');\n            } else {\n                setError('User not found!Recheck your email and try again.');\n            }\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"form-container\">\n            <h2>Reset Password</h2>\n            {error && <div className=\"error-message\">{error}</div>}\n            {successMessage && <div className=\"success-message\">{successMessage}</div>}\n            <form onSubmit={handleSubmit}>\n                <div className=\"input-box\">\n                    <FontAwesomeIcon icon={faEnvelope} />\n                    <input\n                        type=\"email\"\n                        placeholder=\"Email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        required\n                    />\n                </div>\n                <div className=\"input-box\">\n                    <FontAwesomeIcon icon={showPassword ? faEye : faEyeSlash} onClick={() => setShowPassword(!showPassword)} />\n                    <input\n                        type={showPassword ? 'text' : 'password'}\n                        placeholder=\"New Password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        required\n                    />\n                </div>\n                <div className=\"input-box\">\n                    <FontAwesomeIcon icon={showConfirmPassword ? faEye : faEyeSlash} onClick={() => setShowConfirmPassword(!showConfirmPassword)} />\n                    <input\n                        type={showConfirmPassword ? 'text' : 'password'}\n                        placeholder=\"Confirm Password\"\n                        value={confirmPassword}\n                        onChange={(e) => setConfirmPassword(e.target.value)}\n                        required\n                    />\n                </div>\n                <button type=\"submit\" disabled={loading}>{loading ? 'Resetting Password...' : 'Reset Password'}</button>\n            </form>\n        </div>\n    );\n};\n\nexport default ResetPasswordForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}